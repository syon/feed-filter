{"version":3,"sources":["node_modules/browser-pack/_prelude.js","babel/app.js"],"names":["Comment","React","createClass","data","this","props","feed","mute","filter_rules","createElement","className","feed_id","href","feed_url","_","map","title","d","i","key","domain","url_prefix","CommentBox","ajax","url","setState","bind","xhr","status","err","error","toString","loadCommentsFromServer","CommentList","state","commentNodes","length","style","color","ReactDOM","render","document","getElementById"],"mappings":"AAAA;YCCA,IAAIA,SAAAC,MAAUC,yBACZ,iBAAQ,cACFC,GAAOC,KAAAC,MAAXC,KACIC,EAAOJ,EAAAK,aAAXD,WAEEN,OAAAQ,cAAA,OAAKC,UAAL,4BAAAT,MACEQ,cAAA,OAAKC,UAAL,iBAAAT,MACEQ,cAAA,MAAIC,UAAJ,eAAAP,EADFQ,SAAAV,MAIEQ,cAAA,KAAGG,KAAM,SAAWT,EAApBQ,QAAkCD,UAAlC,0BAAAT,MAAAQ,cAAA,KACKC,UADL,wBALJ,OAAAT,MAUEQ,cAAA,OAAKC,UAAL,cAAAT,MACEQ,cAAA,SAAOC,UAAP,mBAAAT,MAAmCQ,cAAA,QACjC,KAAAR,MAAAQ,cAAA,KACE,KAAAR,MAAAQ,cAAA,KAAA,KADF,WAAAR,MAEEQ,cAAA,KACE,KAAAR,MAAAQ,cAAA,KAAGG,KAAM,SAAWT,EAApBQ,SAAA,SACcR,EALeQ,WAAAV,MASjCQ,cAAA,KACE,KAAAR,MAAAQ,cAAA,KAAA,KADF,WAAAR,MAEEQ,cAAA,KACG,KAAAN,EAZ4BU,WAAAZ,MAejCQ,cAAA,KACE,KAAAR,MAAAQ,cAAA,KAAA,KADF,cAAAR,MAEEQ,cAAA,KACG,KAAAK,EAAAC,IAAMR,EAANS,MAAkB,SAAAC,EAAAC,SACVjB,OAAAQ,cAAA,QAAMU,IAAND,EAAcR,UAAd,uBAAPO,OAnB2BhB,MAuBjCQ,cAAA,KACE,KAAAR,MAAAQ,cAAA,KAAA,KADF,cAAAR,MAEEQ,cAAA,KACC,KAAAK,EAAAC,IAAMR,EAANa,OAAmB,SAAAH,EAAAC,SACTjB,OAAAQ,cAAA,QAAMU,IAAND,EAAcR,UAAd,uBAAPO,OA3B2BhB,MA+BjCQ,cAAA,KACE,KAAAR,MAAAQ,cAAA,KAAA,KADF,eAAAR,MAEEQ,cAAA,KACC,KAAAK,EAAAC,IAAMR,EAANc,WAAuB,SAAAJ,EAAAC,SACbjB,OAAAQ,cAAA,QAAMU,IAAND,EAAcR,UAAd,uBAAPO,cAWdK,WAAArB,MAAaC,yBACf,oCAAwB,aACtBqB,UACOnB,KAAAC,MADAmB,aAAA,cAAA,mBAIIrB,QAEPsB,UAAetB,KAAfA,KAFOuB,KAJJtB,qBAQEuB,EAAAC,EAAAC,WACLC,MAAc1B,KAAAC,MAAdmB,IAAAI,EAAsCC,EAAtCE,aADKL,KARTtB,yBAae,kBACPD,4BAES,gBACjB6B,iCAEM,iBAEJ/B,OAAAQ,cAAA,OAAKC,UAAL,cAAAT,MAAAQ,cACEwB,aAAa9B,KAAMC,KAAA8B,MAFvB/B,WAQA8B,YAAAhC,MAAcC,yBAChB,qBAAQ,cACFiC,GAAA/B,KAAeC,MAAAF,KAAAY,IAAoB,SAAAT,SAEnCL,OAAAQ,cAAAT,SAASM,KAATA,EAAqBa,IAAKb,EAD5BK,kBAIF,IAAIwB,EAAAC,OACMnC,MAAAQ,cAAA,MAAR,MAGAR,MAAAQ,cAAA,MACE,KAAAR,MAAAQ,cAAA,KAAGC,UAAH,cAA2B2B,OAAQC,MAAnC,SADF,mDAAArC,MAAAQ,cAAA,KAAA,MAAAR,MAKEQ,cAAA,OAAKC,UAAL,eANJyB,MAcJI,UAAAC,OACEvC,MAAAQ,cAAAa,YAAYE,IADd,YAEEiB,SAAAC,eAFF","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\nvar Comment = React.createClass({\n  render: function() {\n    var data = this.props.feed;\n    var mute = data.filter_rules.mute;\n    return (\n      <div className=\"feed panel panel-default\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">\n            {data.feed_id}\n          </h3>\n          <a href={\"/view/\" + data.feed_id} className=\"btn btn-default btn-sm\">\n            <i className=\"fa fa-chevron-right\"></i>\n            詳細\n          </a>\n        </div>\n        <div className=\"panel-body\">\n          <table className=\"table no-border\"><tbody>\n            <tr>\n              <th>フィードリンク</th>\n              <td>\n                <a href={\"/view/\" + data.feed_id}>\n                  {\"/feed/\" + data.feed_id}\n                </a>\n              </td>\n            </tr>\n            <tr>\n              <th>ソースフィード</th>\n              <td>\n                {data.feed_url}\n              </td>\n            </tr>\n            <tr>\n              <th>ミュート（タイトル）</th>\n              <td>\n                {_.map(mute.title, function(d, i){\n                  return <span key={i} className=\"label label-default\">{d}</span>\n                })}\n              </td>\n            </tr>\n            <tr>\n              <th>ミュート（ドメイン）</th>\n              <td>\n              {_.map(mute.domain, function(d, i){\n                  return <span key={i} className=\"label label-default\">{d}</span>\n              })}\n              </td>\n            </tr>\n            <tr>\n              <th>ミュート（開始URL）</th>\n              <td>\n              {_.map(mute.url_prefix, function(d, i){\n                  return <span key={i} className=\"label label-default\">{d}</span>\n              })}\n              </td>\n            </tr>\n          </tbody></table>\n        </div>\n      </div>\n    );\n  }\n});\n\nvar CommentBox = React.createClass({\n  loadCommentsFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      cache: false,\n      success: function(data) {\n        // console.dir(data);\n        this.setState({data: data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  getInitialState: function() {\n    return {data: []};\n  },\n  componentDidMount: function() {\n    this.loadCommentsFromServer();\n  },\n  render: function() {\n    return (\n      <div className=\"commentBox\">\n        <CommentList data={this.state.data} />\n      </div>\n    );\n  }\n});\n\nvar CommentList = React.createClass({\n  render: function() {\n    var commentNodes = this.props.data.map(function (feed) {\n      return (\n        <Comment feed={feed} key={feed.feed_id} />\n      );\n    });\n    if (commentNodes.length == 0) {\n      return (<div></div>);\n    }\n    return (\n      <div>\n        <p className=\"text-center\" style={{color: '#999'}}>\n          ここから下は最近あなたが作成・更新したフィルタです。ブラウザのCookieに記録されています。\n        </p>\n        <hr />\n        <div className=\"commentList\">\n          {commentNodes}\n        </div>\n      </div>\n    );\n  }\n});\n\nReactDOM.render(\n  <CommentBox url=\"/recent\" />,\n  document.getElementById('feedbox')\n);\n"]}